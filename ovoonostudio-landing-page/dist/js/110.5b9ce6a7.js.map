{"version":3,"file":"js/110.5b9ce6a7.js","mappings":"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","sources":["webpack://ovoono-studio/./src/views/DashboardView.vue","webpack://ovoono-studio/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <h2 v-if=\"username === null\">Loading...</h2>\r\n    <h2 v-else-if=\"username\">Welcome, {{username}}</h2>\r\n    <h2 v-else>Could not load username</h2>\r\n    <button @click=\"logoutAndRedirect\" class=\"button\">Logout</button>\r\n    <button @click=\"showChangePasswordModal = true\" class=\"button\">Change Password</button>\r\n    \r\n    <div v-if=\"showChangePasswordModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close-button\" @click=\"closeModal\">&times;</span>\r\n\r\n        <form class=\"change-password-form\" @submit.prevent=\"handleChangePassword\">\r\n          <h3>Change Password</h3>\r\n          <div class=\"form-group\">\r\n            <label for=\"oldPassword\">Current Password</label>\r\n            <input id=\"oldPassword\" type=\"password\" v-model=\"passwords.old\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"newPassword\">New Password</label>\r\n            <input id=\"newPassword\" type=\"password\" v-model=\"passwords.new\" required>\r\n          </div>\r\n          <p v-if=\"passwordMessage\" class=\"success\">{{ passwordMessage }}</p>\r\n          <p v-if=\"passwordError\" class=\"error\">{{ passwordError }}</p>\r\n          <button @click=\"openChangePasswordModal\" class=\"button\">Change Password</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"main\">\r\n      <div class=\"content\">\r\n        <h3>Add New Post</h3>\r\n        <form class=\"blog-form\" @submit.prevent=\"addPost\">\r\n          <div class=\"form-group\">\r\n            <label for=\"title\">Title</label>\r\n            <input id=\"title\" v-model=\"newPost.title\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"content\">Content</label>\r\n            <textarea id=\"content\" v-model=\"newPost.content\" required></textarea>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"image\">Featured Image</label>\r\n            <input id=\"image\" type=\"file\" @change=\"onImageChange('featured', $event)\" accept=\"image/*\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"thumbnail\">Thumbnail</label>\r\n            <input id=\"thumbnail\" type=\"file\" @change=\"onImageChange('thumbnail', $event)\" accept=\"image/*\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"tags\">Tags</label>\r\n            <input id=\"tags\" v-model=\"newPost.tags\">\r\n          </div> \r\n          <p v-if=\"message\" class=\"success\">{{ message }}</p>\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n          <button type=\"submit\" class=\"button\">Add Post</button>\r\n        </form>\r\n      </div>\r\n      <div class=\"sidebar\">\r\n        <h3>Recent Posts</h3>\r\n        <div v-if=\"recentPosts.length\">\r\n          <div v-for=\"post in recentPosts\" :key=\"post.id\">\r\n            <!-- display post data -->\r\n          </div>\r\n        </div>\r\n        <div v-else>\r\n          No recent posts.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\n  import { mapActions } from 'vuex';\r\n\r\n  export default {\r\n    data() {\r\n      return {  \r\n          newPost: {\r\n              title: '',\r\n              content: '',\r\n              featuredImage: null,\r\n              thumbnail: null,\r\n              tags: '',\r\n              author: ''\r\n          },\r\n          recentPosts: [],\r\n          message: '', // New property for success messages\r\n          errorMessage: '', // New property for error messages\r\n          showChangePasswordModal: false,\r\n          passwords: {\r\n            old: '',\r\n            new: ''\r\n          },\r\n          passwordMessage: '',\r\n          passwordError: '',\r\n      };\r\n    },\r\n    mounted() {\r\n      this.loadUser();\r\n    },\r\n    computed: {  \r\n      username() {\r\n        return localStorage.getItem('username');\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions(['logout', 'createPost', 'loadUser', 'changePassword']), // Include createPost action\r\n      logoutAndRedirect() {\r\n        this.logout().then(() => {\r\n          this.$router.push('/login');\r\n        });\r\n      },\r\n      async handleChangePassword() {\r\n        try {\r\n          await this.changePassword({\r\n            oldPassword: this.passwords.old,\r\n            newPassword: this.passwords.new\r\n          });\r\n          this.passwordMessage = 'Password changed successfully';\r\n          this.passwordError = '';\r\n          this.passwords.old = '';\r\n          this.passwords.new = '';\r\n          this.showChangePasswordModal = false;\r\n          document.body.classList.remove('no-scroll');\r\n        } catch (error) {\r\n          this.passwordError = error.message;\r\n          this.passwordMessage = '';\r\n        }\r\n      },\r\n      openChangePasswordModal() {\r\n        this.showChangePasswordModal = true;\r\n        if (document && document.body) {\r\n          document.body.classList.add('no-scroll');\r\n        }\r\n      },\r\n      closeModal() {\r\n        this.showChangePasswordModal = false;\r\n        if (document && document.body) {\r\n          document.body.classList.remove('no-scroll');\r\n        }\r\n      },\r\n      addPost() {\r\n        const formData = new FormData();\r\n        this.newPost.author = this.username;\r\n        console.log(this.newPost.author);\r\n        formData.append('title', this.newPost.title);\r\n        formData.append('content', this.newPost.content);\r\n        formData.append('featuredImage', this.newPost.featuredImage);\r\n        formData.append('thumbnail', this.newPost.thumbnail);\r\n        formData.append('tags', this.newPost.tags); \r\n        formData.append('author', this.newPost.author);\r\n        \r\n        this.createPost(formData)\r\n          .then(() => {\r\n            this.message = 'Post created successfully!'; // Display success message\r\n            this.errorMessage = '';\r\n            // Reset form after successful submission\r\n            this.newPost = {\r\n              title: '',\r\n              content: '',\r\n              featuredImage: null,\r\n              thumbnail: null,\r\n              tags: '',\r\n              author: ''\r\n            }; \r\n          })\r\n          .catch(error => {\r\n            this.errorMessage = 'An error occurred: ' + error.message; // Display error message\r\n            this.message = '';\r\n          });\r\n      },\r\n      onImageChange(type, event) {\r\n        if (type === 'featured') {\r\n          this.newPost.featuredImage = event.target.files[0];\r\n        } else if (type === 'thumbnail') {\r\n          this.newPost.thumbnail = event.target.files[0];\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>","import { render } from \"./DashboardView.vue?vue&type=template&id=9cce737c\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","$options","username","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","onClick","_cache","args","logoutAndRedirect","$event","$data","showChangePasswordModal","_hoisted_5","_hoisted_6","closeModal","onSubmit","_withModifiers","handleChangePassword","_hoisted_7","_hoisted_8","_hoisted_9","id","passwords","old","required","_hoisted_10","_hoisted_11","new","passwordMessage","_hoisted_12","passwordError","_hoisted_13","openChangePasswordModal","_hoisted_14","_hoisted_15","_hoisted_16","addPost","_hoisted_17","_hoisted_18","newPost","title","_hoisted_19","_hoisted_20","content","_hoisted_21","_hoisted_22","onChange","onImageChange","accept","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","tags","message","_hoisted_27","errorMessage","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","recentPosts","length","_hoisted_32","_Fragment","_renderList","post","key","_hoisted_33","data","featuredImage","thumbnail","author","mounted","this","loadUser","computed","localStorage","getItem","methods","mapActions","logout","then","$router","push","async","changePassword","oldPassword","newPassword","document","body","classList","remove","error","add","formData","FormData","console","log","append","createPost","catch","event","target","files","__exports__","render"],"sourceRoot":""}